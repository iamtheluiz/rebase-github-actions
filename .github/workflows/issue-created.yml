name: CI

# Define em quais situa√ß√µes esse workflow ser√° executado
on:
  issues:
    types:
      - opened

# Os jobs s√£o conjuntos de actions que s√£o executados na mesma m√°quina virtual.
# √â poss√≠vel ter mais de um job e assim executar a√ß√µes paralelamente.
jobs:
  discord_notification_on_issue:
    runs-on: ubuntu-latest
    steps:
      - name: Notify Discord on Issue Created
        env:
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
        run: |
          AUTHOR="${{ github.event.issue.user.login }}"
          ISSUE_TITLE="${{ github.event.issue.title }}"
          ISSUE_URL="${{ github.event.issue.html_url }}"
          curl -X POST -H "Content-Type: application/json" \
          -d "{\"content\": \"üìã **Issue Criada com Sucesso üìã**\\n- Autor: $AUTHOR\\n- T√≠tulo: $ISSUE_TITLE\\n- Link: $ISSUE_URL\"}" \
          $DISCORD_WEBHOOK_URL